{"ast":null,"code":"var _jsxFileName = \"/Users/apple/demos/Multiples/cutebaby/src/components/UrlForm.js\",\n    _s = $RefreshSig$();\n\nimport { memo, useState } from \"react\";\nimport LoadingIcon from \"./LoadingIcon\"; //import LoadingIcon2 from \"./LoadingIcon2\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst UrlForm = () => {\n  _s();\n\n  const [url, setUrl] = useState(\"\"); //給input用的\n\n  const [error, setError] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [resultUrl, setResultUrl] = useState({}); //原始值為JSON object\n\n  const shortenUrl = `https://api.shrtco.de/v2/shorten?url=${url}`; // endpoint\n\n  const validateUrl = () => {\n    if (url.indexOf(\"http\") === 0 || url.indexOf(\"www\") === 0) {\n      setError(false); //如果輸入進去的網址是這兩個開頭就不是error\n    } else {\n      setError(true);\n    }\n  }; //下面開始是submit出去一連串動作\n\n\n  async function handleSubmit(e) {\n    e.preventDefault(); //prevent what's supposed to happen\n\n    setLoading(true); // 先loading\n\n    validateUrl(); //去檢查你輸入的是否為網址\n\n    try {\n      let response = await fetch(shortenUrl); //先等回應\n\n      let result = await response.json(); //將回應結果轉成json物件\n\n      console.log(result);\n      setResultUrl(result); //結果轉成resultUrl\n\n      setLoading(false); //停止loading\n    } catch {\n      //block of code to handle error\n      setError(true); //上面不成功的話設定顯示error\n\n      setLoading(false); //上面不成功的話也不會loading\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt-10 sm:mt-12\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sm:flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"min-w-0 flex-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"url\",\n            className: \"sr-only\",\n            children: \"URL Input : this is the label for input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"url\",\n            onChange: e => {\n              setUrl(e.target.value);\n            },\n            placeholder: \"put your link here...\",\n            className: \"block w-full px-4 py-3 rounded-md border-0 text-base text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-4 focus:ring-offset-2 focus:ring-cyan-100 focus:ring-offset-gray-100\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 13\n          }, this), console.log(url)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3 sm:mt-0 sm:ml-3\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"block w-full py-3 px-4 h-12 rounded-md shadow bg-gradient-to-r from-indigo-400 to-pink-300 text-white font-bold bg-gradient-to-r hover:from-indigo-300 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-400 focus:ring-offset-gray-900\",\n            children: loading ? /*#__PURE__*/_jsxDEV(LoadingIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 26\n            }, this) : \"Click It!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), error &&\n    /*#__PURE__*/\n    // 這邊開始是\"form\"的下面\n    _jsxDEV(\"p\", {\n      className: \"mt-3 text-md font-bold text-red-700 sm:mt-4\",\n      children: \"Please enter a valid URL.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this), resultUrl.ok ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-5 flex flex-col items-center justify-center rounded-md bg-white py-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-3 text-base text-gray-900 sm:mt-4\",\n          children: \"Link Created!!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: resultUrl.result.full_short_link //從result的json object中選一個\n          ,\n          className: \"text-xl mt-2 text-green-500 hover:text-green-600 hover:underline\",\n          children: resultUrl.result.short_link\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this)\n    }, void 0, false) : /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mt-3 text-sm text-gray-300 sm:mt-4\",\n      children: \"This website uses shrtcode API and by using it you agree to their Terms of Service.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UrlForm, \"2R57nGi3YLL/PiaLf2gX+k81ffA=\");\n\n_c = UrlForm;\nexport default _c2 = /*#__PURE__*/memo(UrlForm);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"UrlForm\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/Users/apple/demos/Multiples/cutebaby/src/components/UrlForm.js"],"names":["memo","useState","LoadingIcon","UrlForm","url","setUrl","error","setError","loading","setLoading","resultUrl","setResultUrl","shortenUrl","validateUrl","indexOf","handleSubmit","e","preventDefault","response","fetch","result","json","console","log","target","value","ok","full_short_link","short_link"],"mappings":"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","sourcesContent":["import { memo, useState } from \"react\";\nimport LoadingIcon from \"./LoadingIcon\";\n//import LoadingIcon2 from \"./LoadingIcon2\";\n\nconst UrlForm = () => {\n  const [url, setUrl] = useState(\"\"); //給input用的\n  const [error, setError] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const [resultUrl, setResultUrl] = useState({}); //原始值為JSON object\n  const shortenUrl = `https://api.shrtco.de/v2/shorten?url=${url}`; // endpoint\n  const validateUrl = () => {\n    if (url.indexOf(\"http\") === 0 || url.indexOf(\"www\") === 0) {\n      setError(false); //如果輸入進去的網址是這兩個開頭就不是error\n    } else {\n      setError(true);\n    }\n  };\n\n  //下面開始是submit出去一連串動作\n  async function handleSubmit(e) {\n    e.preventDefault(); //prevent what's supposed to happen\n    setLoading(true); // 先loading\n    validateUrl(); //去檢查你輸入的是否為網址\n    try {\n      let response = await fetch(shortenUrl); //先等回應\n      let result = await response.json(); //將回應結果轉成json物件\n      console.log(result);\n      setResultUrl(result); //結果轉成resultUrl\n      setLoading(false); //停止loading\n    } catch {\n      //block of code to handle error\n      setError(true); //上面不成功的話設定顯示error\n      setLoading(false); //上面不成功的話也不會loading\n    }\n  }\n\n  return (\n    <div className=\"mt-10 sm:mt-12\">\n      <form onSubmit={handleSubmit}>\n        <div className=\"sm:flex\">\n          <div className=\"min-w-0 flex-1\">\n            <label htmlFor=\"url\" className=\"sr-only\">\n              URL Input : this is the label for input\n            </label>\n            <input\n              type=\"text\"\n              name=\"url\"\n              onChange={(e) => {\n                setUrl(e.target.value);\n              }}\n              placeholder=\"put your link here...\"\n              className=\"block w-full px-4 py-3 rounded-md border-0 text-base text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-4 focus:ring-offset-2 focus:ring-cyan-100 focus:ring-offset-gray-100\"\n            />\n            {console.log(url)}\n          </div>\n          <div className=\"mt-3 sm:mt-0 sm:ml-3\">\n            <button\n              type=\"submit\"\n              className=\"block w-full py-3 px-4 h-12 rounded-md shadow bg-gradient-to-r from-indigo-400 to-pink-300 text-white font-bold bg-gradient-to-r hover:from-indigo-300 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-400 focus:ring-offset-gray-900\"\n            >\n              {loading ? <LoadingIcon /> : \"Click It!\"}\n            </button>\n          </div>\n        </div>\n      </form>\n\n      {error && ( // 這邊開始是\"form\"的下面\n        <p className=\"mt-3 text-md font-bold text-red-700 sm:mt-4\">\n          Please enter a valid URL.\n        </p>\n      )}\n      {resultUrl.ok ? (\n        <>\n          <div className=\"mt-5 flex flex-col items-center justify-center rounded-md bg-white py-4\">\n            <p className=\"mt-3 text-base text-gray-900 sm:mt-4\">\n              Link Created!!\n            </p>\n            <a\n              href={resultUrl.result.full_short_link} //從result的json object中選一個\n              className=\"text-xl mt-2 text-green-500 hover:text-green-600 hover:underline\"\n            >\n              {resultUrl.result.short_link}\n            </a>\n          </div>\n        </>\n      ) : (\n        <p className=\"mt-3 text-sm text-gray-300 sm:mt-4\">\n          This website uses shrtcode API and by using it you agree to their\n          Terms of Service.\n        </p>\n      )}\n    </div>\n  );\n};\n\nexport default memo(UrlForm);\n"]},"metadata":{},"sourceType":"module"}